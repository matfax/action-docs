# action-docs
Github action that generates docs for a github action and injects them into the README.md

<!--- BEGIN_ACTION_DOCS --->
## Usage

```yaml
- name: action-docs
  uses: ${{ github.repository }}@${{ github.ref }}
  with:
    # Enable debug mode
    debug_mode: false
    # Template file to use for rendering the markdown docs
    template_file: .github/action.tpl
    # Directory that contains the action.yml and README.md
    working_dir: .
```

## Example Workflow

```yaml
name: Documentation

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]

jobs:
  update:
    name: Update
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4.2.2

      - name: Generate action documentation
        uses: matfax/action-docs@main

      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v7.0.8
        with:
          base: main
          commit-message: 'docs: update action documentation'
          title: 'docs: Update action documentation'
          sign-commits: true
          signoff: true
          body: |
            This pull request contains automated updates to the action README.
            
            The documentation has been regenerated from the action.yml file using the
            configured template. Please review the changes and merge if they look correct.
            
            Generated by: matfax/action-docs
          branch: docs/update-docs
          delete-branch: true

```

## Inputs

### debug_mode

![Required](https://img.shields.io/badge/Required-no-inactive?style=flat-square)
![Default](https://img.shields.io/badge/Default-false-blue?style=flat-square)

Enable debug mode

### template_file

![Required](https://img.shields.io/badge/Required-no-inactive?style=flat-square)
![Default](https://img.shields.io/badge/Default-.github/action.tpl-blue?style=flat-square)

Template file to use for rendering the markdown docs

### working_dir

![Required](https://img.shields.io/badge/Required-no-inactive?style=flat-square)
![Default](https://img.shields.io/badge/Default-.-blue?style=flat-square)

Directory that contains the action.yml and README.md

## Outputs

### num_changed

![Output](https://img.shields.io/badge/Output-num__changed-green?style=flat-square)

Number of files changed
<!--- END_ACTION_DOCS --->